

<div class="container" style="padding: 10px 0 10px 0;">

  <div class="navbar-expand"> 
    <ul class="navbar-nav mr-auto">
      <li class="nav-item nav-link"> <b style="color: rgb(92, 92, 92);"> Sort By: </b></li>
      <li class="nav-item" style="margin-left: 20px;" [class.active]="sortBy==='name'"> 
        <button class="btn btn-link" (click)="sortByMethod('name')"> Name </button> 
      </li>
      <li class="nav-item" style="margin-left: 20px;"> 
        <button class="btn btn-link" (click)="sortByMethod('price_low_to_high')"> Price - Low to High </button> 
      </li>
      <li class="nav-item" style="margin-left: 20px;"> 
        <button class="btn btn-link" (click)="sortByMethod('price_high_to_low')"> Price - High to Low </button> 
      </li>
    </ul>
  </div>
  <hr>
<!-- products -->
<div class="form-group">
  <div class="alert alert-danger alert-dismissible fade show hoverable animated fadeInUp" role="alert" *ngIf="!isLoggedIn"> Log in to place an order. 
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="container text-center" style="width: 100%; height: 100%;" *ngIf="screenLoading" >
    <img src="https://acegif.com/wp-content/uploads/loading-95.gif" 
        style="margin-top: 6%; text-align: center; height: 30%; width: 40%;" />
  </div>
  
  <div class="new-products container animated fadeInUp" *ngIf="!screenLoading">
    <div class="row">
      <div class="col-md-4 text-center img-thumbnail hoverable" *ngFor="let product of products | filter:searchText" >
        <!-- <div class="text-center img-thumbnail hoverable"> -->
          <img [src]="product?.productImageUrl" class="img-fluid rounded"/><br>
          <label><h3>{{ product?.productName }}</h3></label><br>
          <label><i class="fas fa-tag"></i> {{ product?.productCategory }}</label><br>
          <label><b> {{ product?.productPrice | currency:'INR' }}</b></label><br>
          <!-- <app-star [rating]="5"></app-star><br> -->
          <star-rating [value]="product?.productRating" [totalstars]="5" checkedcolor="orange" uncheckedcolor="white" size="24px" [readonly]="true" ></star-rating>
          <button type="submit" id="monitor" [class.grey]="buttonMDisabled" class="btn btn-primary"
              (click)="addProduct(product?.productId, product?.productName)">Add to cart</button>
        <!-- </div> -->


        <!-- <div class="col-md-4 text-center img-thumbnail hoverable">
            <img src="assets/images/25.jpg" class="rounded" /><br>
            <label style="color: rgb(107, 107, 107);">LG Monitor</label><br>
            <button type="submit" id="monitor" [class.grey]="buttonMDisabled" [disabled]="buttonMDisabled" class="btn btn-primary"
                (click)="addLGMonitor(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="assets/images/42.jpg" class="rounded" /><br>
          <label style="color: rgb(107, 107, 107);">HP Monitor</label><br>
          <button type="submit" id="monitor" [class.grey]="buttonMDisabled" [disabled]="buttonMDisabled" class="btn btn-primary"
              (click)="addHPMonitor(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="assets/images/keyboard.jpg" class="rounded" /><br>
          <label style="color: rgb(107, 107, 107);">KeyBoard</label><br>
          <button type="submit" id="keyboard" [class.grey]="buttonKeyboardDisabled" [disabled]="buttonKeyboardDisabled" class="btn btn-primary"
                (click)="addKeybord(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="https://in-media.apjonlinecdn.com/catalog/product/cache/74c1057f7991b4edb2bc7bdaa94de933/h/2/h2c21aa.png" class="rounded" /><br>
          <label style="color: rgb(107, 107, 107);"> Mouse </label><br>
          <button type="submit" id="mouse" [class.grey]="buttonMouseDisabled" [disabled]="buttonMouseDisabled" class="btn btn-primary"
                (click)="addMouser(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="assets/images/47.jpg" class="rounded"/><br>
          <label style="color: rgb(107, 107, 107);"> Table 1 </label><br>
          <button type="submit" id="table" [class.grey]="buttonTableDisabled" [disabled]="buttonTableDisabled" class="btn btn-primary"
                (click)="addtable1(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="assets/images/48.jpg" class="rounded"/><br>
          <label style="color: rgb(107, 107, 107);"> Table 2 </label><br>
          <button type="submit" id="table" [class.grey]="buttonTableDisabled" [disabled]="buttonTableDisabled" class="btn btn-primary"
                (click)="addtable2(true)">Add to cart</button>
        </div>

        <div class="col-md-4 text-center img-thumbnail hoverable">
          <img src="assets/images/37.jpg" class="rounded"/><br>
          <label style="color: rgb(107, 107, 107);">Chair</label><br>
          <button type="submit" id="chair" [class.grey]="buttonChairDisabled" class="btn btn-primary" [disabled]="buttonChairDisabled"
                (click)="addchair(true)">Add to cart</button>
        </div> -->
      </div>
    </div>


    <div class="container animated slideInUp" *ngIf="employeeCartMap.size != 0 && isUserEmployee">
      <table class="table table-bordered shadow-sm" id="Items-list">
        <thead>
          <th>Items Selected</th>
          <th>Quantity</th>
          <th>Remove</th>
        </thead>
        <tbody>
          <tr *ngFor="let mapEntry of employeeCartMap | keyvalue">
            <td>{{ mapEntry.value }}</td>
            <td>1</td>
            <td>
              <button type="button" class="btn btn-outline-danger" (click)="Remove(mapEntry.key)">Remove</button>
            </td>
          </tr>
        </tbody>
      </table>

      <button type="button" class="btn btn-primary" style="margin: 20px;" (click)="confirmOrder()">Confirm
        Orders </button>
    </div>
  </div>

<!--button-->
  <div class="container col-md-8 animated slideInUp" *ngIf="employeeCartMap.size != 0" id="TestsDiv" style="display: none;">
  
    <form name="form" class="border rounded shadow-sm" style="color: rgb(107, 107, 107);padding: 50px; margin: 10px auto 100px auto;" 
      (ngSubmit)="f.form.valid && addToCart()" #f="ngForm" novalidate>

      <h2>Delivery Details</h2>
      <div class="form-group row col-md-12">
        <label for="address">Address </label>
        <input type="text" class="form-control" name="employeeShippingAddress" [(ngModel)]="employeeShippingAddress"
          placeholder="Shipping Address" required #ShippingAddress="ngModel">
        <div class="alert alert-danger animated zoomIn" role="alert" *ngIf="f.submitted && ShippingAddress.invalid">
          Address is required!
        </div>
      </div>

      <div class="form-group row col-md-12">
        <label for="phno">Contact details</label>
        <input type="number" class="form-control" [(ngModel)]="employeePhoneNumber" placeholder="Phone Number"
          name="employeePhoneNumber" required minlength="10" maxlength="10" #PhoneNumber="ngModel" />
        <div class="alert alert-danger animated zoomIn" role="alert" *ngIf="f.submitted && PhoneNumber.invalid">
          <div *ngIf="PhoneNumber.errors.required">Phone Number is required</div>
          <div *ngIf="PhoneNumber.errors.maxlength">Phone Number should be at least 10</div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span> Submit
      </button>

    </form>
  </div>

</div>

